(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{18:function(e,t,n){e.exports=n(30)},23:function(e,t,n){},24:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},30:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),o=n.n(r),i=(n(23),n(24),n(9),n(6)),l=Object(a.memo)((function(e){e.postMethod,Object(a.useRef)(null);var t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useState)("user"),o=Object(i.a)(r,2),l=o[0],u=o[1];Object(a.useEffect)((function(){return function(){n.current.getTracks()[0].stop(),t.current.pause()}}),[]);var s={audio:!1,video:{facingMode:l}};return c.a.createElement("div",{className:"video1"},c.a.createElement("video",{ref:function(e){null!==e&&navigator.mediaDevices.getUserMedia(s).then((function(a){t.current=e,n.current=a,e.srcObject=a,e}),console.error)},autoPlay:!0,muted:!0,playsInline:!0}),c.a.createElement("button",{onClick:function(){u("user"===l?"environment":"user")}},"Switch"))})),u=n(8),s=n(1),m=Object(a.memo)((function(e){e.postMethod,Object(a.useRef)(null);var t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],s=Object(a.useState)(0),m=Object(i.a)(s,2),d=m[0],v=m[1],f=[],E=0;Object(a.useEffect)((function(){return function(){n.current.getTracks()[0].stop(),t.current.pause()}}),[]);var b={audio:!1,video:{deviceId:{exact:l}}},p=null;function h(e){e.forEach((function(e){"videoinput"===e.kind&&(f.push(e.deviceId),E++)})),console.log("videoDevices-",f),b.video.deviceId.exact=f[d],navigator.mediaDevices.getUserMedia(b).then((function(e){return t.current=p,n.current=e,p.srcObject=e,p,navigator.mediaDevices.enumerateDevices()})).catch((function(e){console.error(e)}))}return c.a.createElement("div",{className:"video1"},c.a.createElement("video",{ref:function(e){null!==e&&(p=e,navigator.mediaDevices.enumerateDevices().then(h))},autoPlay:!0,muted:!0,playsInline:!0}),c.a.createElement("button",{onClick:function(){var e=d+1===E?0:d+1;u(f[e]),v(e)}},"Switch)"))})),d=Object(a.memo)((function(){var e=Object(a.useRef)(null),t=document.querySelector("#flip-btn"),n={audio:!1,video:!0},r=Object(a.useState)(!0),o=Object(i.a)(r,2),l=o[0],u=o[1];!0===navigator.mediaDevices.getSupportedConstraints().facingMode&&(t.disabled=!1);var s=null;function m(){n.video={facingMode:l?"user":"environment"},navigator.mediaDevices.getUserMedia(n).then((function(t){s=t,e.current.srcObject=s,e.current.play()})).catch((function(e){console.log(e)}))}return m(),c.a.createElement("div",{className:"video1"},c.a.createElement("video",{ref:e,autoPlay:!0,muted:!0,playsInline:!0}),c.a.createElement("button",{onClick:function(){null!=s&&(s.getTracks().forEach((function(e){e.stop()})),u(!l),m())}},"Switch)"))}));function v(){return c.a.createElement(u.a,null,c.a.createElement("div",{className:"router"},c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(u.b,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(u.b,{to:"/video1"},"Variant 1")),c.a.createElement("li",null,c.a.createElement(u.b,{to:"/video2"},"Variant 2")),c.a.createElement("li",null,c.a.createElement(u.b,{to:"/video2"},"Variant 3")))),c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/video1"},c.a.createElement(l,null)),c.a.createElement(s.a,{path:"/video2"},c.a.createElement(m,null)),c.a.createElement(s.a,{path:"/video3"},c.a.createElement(d,null)),c.a.createElement(s.a,{path:"/"},c.a.createElement("h1",null,"\u041a\u0432\u0435\u0441\u0442, \u043d\u0430\u0439\u0434\u0438 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442, \u0433\u0434\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043c\u0435\u043d\u0430 \u043a\u0430\u043c\u0435\u0440\u044b)")))))}var f=function(){return Object(a.useEffect)((function(){document.getElementsByClassName("App")[0].style.height=window.innerHeight+"px"})),c.a.createElement("div",{className:"App"},c.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.49ea99db.chunk.js.map